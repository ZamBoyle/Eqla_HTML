<!DOCTYPE html>
<html lang="fr-BE">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemple de l'attribut disabled</title>
</head>

<body>
    <h1>Exemple de l'attribut disabled</h1>
    <p>Dans cet exemple, le bouton d'envoie du formulaire ne sera clickable que si on a mis quelque chose dans les deux champs. Il a donc l'attribut disabled.</p>
    <p>Une fois que les champs sont garnis, alors le bouton devient clickable: on a enlevé l'attribut disabled en javascript.</p>
    <form action="http://zamboyle.synology.me:2727/forms/demos/demo14-16.php" method="POST">
        <label for="userId">Identifiant :</label><br>
        <input type="text" id="userId" name="userId" aria-valuetext="225" aria-disabled="true"  disabled value="225"><br>        
        <label for="userFirstname">Prénom :</label><br>
        <input type="text" id="userFirstname" name="userFirstname" aria-required="true" required><br>
        <br>
        <label for="userWho">Qui es-tu ?</label><br>
        <textarea id="userWho" name="userWho" aria-required="true" required rows="10" cols="50"></textarea><br>
        <br>
        <input type="submit" value="Envoyer">
        <input type="reset" value="Effacer">
    </form>
    <script src="https://zamboyle.github.io/Cours/js/main.js" type="module"></script>
    <script>
        function addListenersToFields(ids) {
            const checkFields = () => {
                const allFilled = ids.every(id => document.getElementById(id).value);
                document.querySelector("input[type=submit]").disabled = !allFilled;
            };

            ids.forEach(id => document.getElementById(id).addEventListener("input", checkFields));
            checkFields();
        }
        addListenersToFields(["userFirstname", "userWho"]);
    </script>    
</body>

</html>